<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de sesión</title>

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link rel="stylesheet" href="app/assets/stylesheets/sign_in.css">
    <%= stylesheet_link_tag "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" %>
    <%= hidden_field_tag :authenticity_token, form_authenticity_token %>

  </head>

  <body class="body">
    <section class="container">
      <%= image_tag 'ale_logo.jpg', alt: 'logo', class: 'img_logo' %>
      <h2>Iniciar sesión</h2>

      <%= form_for(resource, as: resource_name, url: session_path(resource_name), html: {class: 'form'}) do |f| %>
        <%= hidden_field_tag :authenticity_token, form_authenticity_token %>

        <div class="field">
          <%= f.label :email %>
          <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
        </div>

        <div class="field">
          <%= f.label :password %>
          <div style="position: relative;">
            <%= f.password_field :password, autocomplete: "current-password", id: "password_field" %>
            <i class="fas fa-eye toggle-icon" onclick="togglePassword()" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
          </div>
        </div>



        <div class="opcionesb">
          <%= render "devise/shared/links" %>
        </div>

        <div class="actions">
          <%= f.submit "Iniciar sesión" %>
        </div>

        <a class="sncuenta" href="https://localhost:4000/inicio#index">Quizás más tarde</a>
      <% end %>
    </section>

    <div class="wave-wrapper">
      <div class="wave-top-bg">
        <svg viewBox="0 0 1440 320" class="wave-svg">
          <path fill="#ffffff" fill-opacity="0.4"
            d="M0,160L60,165.3C120,171,240,181,360,181.3C480,181,600,171,720,160C840,149,960,139,1080,122.7C1200,107,1320,85,1380,74.7L1440,64L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z" />
          <path fill="#ffffff" fill-opacity="0.6"
            d="M0,192L60,186.7C120,181,240,171,360,149.3C480,128,600,96,720,96C840,96,960,128,1080,138.7C1200,149,1320,139,1380,133.3L1440,128L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z" />
          <path fill="#ffffff" fill-opacity="1"
            d="M0,224L60,213.3C120,203,240,181,360,165.3C480,149,600,139,720,149.3C840,160,960,192,1080,192C1200,192,1320,160,1380,144L1440,128L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z" />
        </svg>
      </div>
    </div>

    <script>

      function togglePassword() {
        const input = document.getElementById('password_field');
        const icon = document.querySelector('.toggle-icon');
        
        if (input.type === 'password') {
          input.type = 'text';
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
        } else {
          input.type = 'password';
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
        }
      }
    </script>
  </body>
</html>
