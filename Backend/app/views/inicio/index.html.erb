<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MenÃº desplegable</title>
  <link rel="stylesheet" href="Backend/app/assets/stylesheets/inicio.css">
</head>
</head>
<body>
<header class="navbar">
  <div class="menu-icon" onclick="toggleMenu()">â˜°</div>

  <div class="logo">
  <img src="<%= asset_path('ale_logo.jpg') %>" alt="Logo">
  </div>

  <nav id="main-nav">
     <a href="inicio.html">INICIO</a>
     <a href="productos.html">PRODUCTOS</a>
    <a href="#">ACERCA DE</a>
    <a href="#">CONTACTO</a>
  </nav>

  <div class="search">
    <input type="text" placeholder="Buscar...">
  </div>

 <div class="user-options">
  <span id="profile-icon">ðŸ‘¤</span>
  <div id="menu-perfil">
    <ul id="ul-perfil">
      <li><button class="cerrar_sesion">Cerrar sesiÃ³n</button></li>
    </ul>
  </div>
</div>
  <div class="cart">ðŸ›’</div>
  </header>

  <!-- MenÃº desplegable -->
  <div id="dropdown-menu" class="dropdown-menu">
    <a href="#">Mis Compras</a>
    <a href="#">Favoritos</a>
    <a href="#">Ajustes</a>
  </div>

  <!-- Menu perfil -->
  <div id="menu-perfil">
    <ul id="ul-perfil">
      <li><button class="cerrar_sesion">Cerrar sesiÃ³n</button></li>
    </ul>
  </div>

  <!-- Carrusel principal -->
  
  <div class="carousel-container">
  <section class="carousel">
    <div class="carousel-inner">
      <div class="carousel-item">
        <img src="<%= asset_path('img1.jpg') %>" alt="Imagen 1" loading="lazy">
      </div>
      <div class="carousel-item">
        <img src="<%= asset_path('img2.jpg') %>" alt="Imagen 2" loading="lazy">
      </div>
      <div class="carousel-item">
        <img src="<%= asset_path('img3.jpg') %>" alt="Imagen 3" loading="lazy">
      </div>
      <div class="carousel-item">
        <img src="<%= asset_path('img4.jpg') %>" alt="Imagen 4" loading="lazy">
      </div>
      <div class="carousel-item">
        <img src="<%= asset_path('img5.jpg') %>" alt="Imagen 5" loading="lazy">
      </div>
    </div>
    
    <button class="carousel-control-prev" aria-label="Anterior" onclick="prevSlide()">â€¹</button>
    <button class="carousel-control-next" aria-label="Siguiente" onclick="nextSlide()">â€º</button>
  </section>
</div>
  
  

  <!-- Productos destacados -->
  <section class="productos-destacados">
    <h3>Productos Destacados</h3>
    
    <div class="productos-grid">
      <% 4.times do %>
        <div class="producto-card">
          <div class="producto-img">
            <img src="https://es.lorealparisusa.com/-/media/project/loreal/brand-sites/oap/americas/us/beauty-magazine/slideshows/makeup-product-essentials/loreal-paris-bmag-slideshow-20-makeup-product-essentials-every-woman-should-own-slide16.jpg" alt="Producto Maquillaje">
          </div>
          <div class="producto-info">
            <h5>Labial Rosa</h5>
            <p>$20.000</p>
          </div>
        </div>
      <% end %>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    Â© 2025 Tienda de Belleza - Todos los derechos reservados
  </footer>

  <script>
    // MenÃº desplegable
    function toggleMenu() {
      const nav = document.getElementById('main-nav');
      nav.classList.toggle('show');
      
      const dropdown = document.getElementById('dropdown-menu');
      if (dropdown.style.display === 'flex') {
        dropdown.style.display = 'none';
      }
    }
    
    // MenÃº desplegable
      document.addEventListener("DOMContentLoaded", function() {
  const profileIcon = document.getElementById("profile-icon");
  const profileMenu = document.getElementById("menu-perfil");
  
  // Mostrar/ocultar menÃº con animaciÃ³n
  profileIcon.addEventListener("click", function(e) {
    e.stopPropagation();
    
    if (profileMenu.style.display === "block") {
      profileMenu.style.opacity = "0";
      setTimeout(() => {
        profileMenu.style.display = "none";
      }, 300);
    } else {
      profileMenu.style.display = "block";
      setTimeout(() => {
        profileMenu.style.opacity = "1";
      }, 10);
    }
  });
  
  // Cerrar al hacer clic fuera
  document.addEventListener("click", function(e) {
    if (!e.target.closest('.user-options')) {
      profileMenu.style.opacity = "0";
      setTimeout(() => {
        profileMenu.style.display = "none";
      }, 300);
    }
  });
  
  // Prevenir cierre al hacer clic dentro del menÃº
  profileMenu.addEventListener("click", function(e) {
    e.stopPropagation();
  });
});
 
    
    // Carrusel simple
    document.addEventListener('DOMContentLoaded', function() {
  const carousel = document.querySelector('.carousel');
  const inner = document.querySelector('.carousel-inner');
  const items = document.querySelectorAll('.carousel-item');
  let currentIndex = 0;
  let intervalId;
  
  // FunciÃ³n para ajustar altura segÃºn relaciÃ³n de aspecto
  function adjustCarouselHeight() {
    if (window.innerWidth <= 480) {
      carousel.style.maxHeight = '80vh';
    } else {
      carousel.style.maxHeight = 'none';
    }
  }
  
  // Inicializar carrusel
  function initCarousel() {
    adjustCarouselHeight();
    items[0].classList.add('active');
    startAutoPlay();
    setupEventListeners();
  }
  
  // Mover al slide especÃ­fico
  function goToSlide(index) {
    currentIndex = (index + items.length) % items.length;
    inner.style.transform = `translateX(-${currentIndex * 100}%)`;
    
    items.forEach(item => item.classList.remove('active'));
    items[currentIndex].classList.add('active');
  }
  
  // NavegaciÃ³n
  function prevSlide() {
    goToSlide(currentIndex - 1);
    resetAutoPlay();
  }
  
  function nextSlide() {
    goToSlide(currentIndex + 1);
    resetAutoPlay();
  }
  
  // Auto-play
  function startAutoPlay() {
    intervalId = setInterval(nextSlide, 5000);
  }
  
  function resetAutoPlay() {
    clearInterval(intervalId);
    startAutoPlay();
  }
  
  // Event listeners
  function setupEventListeners() {
    window.addEventListener('resize', adjustCarouselHeight);
    
    carousel.addEventListener('mouseenter', () => clearInterval(intervalId));
    carousel.addEventListener('mouseleave', startAutoPlay);
    
    // Touch events para mÃ³viles
    let touchStartX = 0;
    carousel.addEventListener('touchstart', (e) => {
      touchStartX = e.touches[0].clientX;
    }, {passive: true});
    
    carousel.addEventListener('touchend', (e) => {
      const touchEndX = e.changedTouches[0].clientX;
      if (touchEndX < touchStartX - 50) nextSlide();
      if (touchEndX > touchStartX + 50) prevSlide();
    }, {passive: true});
  }
  
  initCarousel();
  
  // Funciones globales
  window.prevSlide = prevSlide;
  window.nextSlide = nextSlide;
});
  </script>
</body>
</html>
