<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Mi Proyecto</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheets" href= "app/assets/stylesheets/index.css">

    </head>
  <body class="uno">

        <nav class="navbar">
        <!-- Menú desplegable -->
        <div class="dropdown">
            <button onclick="toggleDropdown()" class="dropbtn">☰ Menú</button>
            <div id="dropdownContent" class="dropdown-content">
            <%= link_to "Agregar producto", add_product_path %>
            <a href="#">Eliminar producto</a>
            <%= link_to "Agregar categoria", add_category_path%>
            </div>
        </div>
        <div class="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-shopping-bag"></i>
        </div>
        <div class="logo-container">
            <%= image_tag "ale_logo.jpg", class: "logo-img" %>
        </div>
        <div class="center">
            <a href="#">INICIO</a>
            <a href="#">PRODUCTOS</a>
            <a href="#">ACERCA DE</a>
            <a href="#">CONTACTO</a>
            <input type="search" placeholder="Buscar...">
        </div>
        <div class="user-section">
        <i class="fas fa-user-circle user-icon"></i>
        <div class="user-options">
        <%= button_to "Cerrar sesión", destroy_user_session_path, method: :delete, class:"logout" %>
        <span>ADMIN</span>
        </div>
        </nav>

        <div>
            <%= form_with(model: @category, local: true, html: { multipart: true }) do |form| %>
                <% if @category.errors.any? %>
                    <div style="color: pink">
                        <h2><%= pluralize(@category.errors.count, "error") %> La categoria no pudo ser creado </h2>

                        <ul>
                            <% @category.errors.each do |error| %>
                                <li><%= error.full_message %></li>
                            <% end %>
                        </ul>
                    </div>
                <% end %>

                <div>
                    <%= form.label :nombre_categoria, style: "display: block" %>
                    <%= form.text_field :nombre_categoria %>
                </div>

                <div>
                    <%= form.label :imagen, style: "display: block" %>
                    <%= form.file_field :imagen %>
                </div>

                <div>
                    <%= form.submit %>
                </div>
                
            <% end %>
        </div>
        <div class="floating-btn"><i class="fas fa-plus"></i></div>
        <div class="logout-btn"><i class="fas fa-sign-out-alt"></i></div>
        <div class="filter-btn"><i class="fas fa-sliders-h"></i></div>

        <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 Mi Tienda de Maquillaje. Todos los derechos reservados.</p>
            <div class="social-icons">
            <i class="fab fa-instagram"></i>
            <i class="fab fa-facebook-f"></i>
            <i class="fab fa-twitter"></i>
            </div>
        </div>
        </footer>

        <script>
        function toggleDropdown() {
            document.getElementById("dropdownContent").classList.toggle("show");
        }

        // Cierra el menú si se hace clic fuera
        window.onclick = function(e) {
            if (!e.target.matches('.dropbtn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
                }
            }
            }
        }
        </script>

  </body>
</html>